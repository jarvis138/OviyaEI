🔍 GPU DIAGNOSTIC COMMANDS FOR VAST.AI
======================================

Run these commands on your Vast.ai instance:

# 1. Check what GPU hardware you have
lspci | grep -i nvidia
ls /dev/nvidia* 2>/dev/null || echo "No NVIDIA devices found"

# 2. Check if NVIDIA drivers are installed
dpkg -l | grep nvidia || echo "NVIDIA packages not found"

# 3. Check CUDA availability
nvcc --version 2>/dev/null || echo "CUDA toolkit not found"

# 4. Try alternative NVIDIA commands
nvidia-smi || echo "nvidia-smi not found"
nvidia-settings --version 2>/dev/null || echo "nvidia-settings not found"

# 5. Check GPU with PyTorch
python3 -c "
import torch
print('PyTorch version:', torch.__version__)
print('CUDA available:', torch.cuda.is_available())
if torch.cuda.is_available():
    print('CUDA version:', torch.version.cuda)
    print('GPU count:', torch.cuda.device_count())
    print('GPU name:', torch.cuda.get_device_name(0) if torch.cuda.device_count() > 0 else 'None')
else:
    print('No CUDA GPU detected')
"

# 6. If NVIDIA tools missing, install them
if ! command -v nvidia-smi &> /dev/null; then
    echo "Installing NVIDIA tools..."
    apt update
    apt install -y nvidia-utils-470 nvidia-driver-470  # Adjust version as needed
fi

